<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Executable Scripts &mdash; PyFITS 3.3.dev documentation</title>
    
    <link rel="stylesheet" href="../_static/pyfits.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.3.dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PyFITS 3.3.dev documentation" href="../index.html" />
    <link rel="up" title="PyFITS Users Guide" href="users_guide.html" />
    <link rel="next" title="Miscellaneous Features" href="users_misc.html" />
    <link rel="prev" title="FITS Header Schemas" href="users_schema.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="users_misc.html" title="Miscellaneous Features"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="users_schema.html" title="FITS Header Schemas"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">PyFITS 3.3.dev documentation</a> &raquo;</li>
          <li><a href="users_guide.html" accesskey="U">PyFITS Users Guide</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/stsci_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Executable Scripts</a><ul>
<li><a class="reference internal" href="#module-pyfits.scripts.fitscheck">fitscheck</a></li>
<li><a class="reference internal" href="#fitsdiff">fitsdiff</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="users_schema.html"
                        title="previous chapter">FITS Header Schemas</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="users_misc.html"
                        title="next chapter">Miscellaneous Features</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/users_guide/users_scripts.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="executable-scripts">
<h1>Executable Scripts<a class="headerlink" href="#executable-scripts" title="Permalink to this headline">¶</a></h1>
<p>PyFITS installs a couple of useful utility programs on your system that are
built with PyFITS.</p>
<div class="section" id="module-pyfits.scripts.fitscheck">
<span id="fitscheck"></span><h2>fitscheck<a class="headerlink" href="#module-pyfits.scripts.fitscheck" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">fitscheck</span></tt> is a command line script based on pyfits for verifying and
updating the CHECKSUM and DATASUM keywords of .fits files.  <tt class="docutils literal"><span class="pre">fitscheck</span></tt> can
also detect and often fix other FITS standards violations.  <tt class="docutils literal"><span class="pre">fitscheck</span></tt>
facilitates re-writing the non-standard checksums originally generated by
pyfits with standard checksums which will interoperate with CFITSIO.</p>
<p><tt class="docutils literal"><span class="pre">fitscheck</span></tt> will refuse to write new checksums if the checksum keywords are
missing or their values are bad.  Use <tt class="docutils literal"><span class="pre">--force</span></tt> to write new checksums
regardless of whether or not they currently exist or pass.  Use
<tt class="docutils literal"><span class="pre">--ignore-missing</span></tt> to tolerate missing checksum keywords without comment.</p>
<p>Example uses of fitscheck:</p>
<ol class="arabic">
<li><p class="first">Verify and update checksums, tolerating non-standard checksums, updating to
standard checksum:</p>
<div class="highlight-python"><div class="highlight"><pre>$ fitscheck --checksum either --write *.fits
</pre></div>
</div>
</li>
<li><p class="first">Write new checksums,  even if existing checksums are bad or missing:</p>
<div class="highlight-python"><div class="highlight"><pre>$ fitscheck --write --force *.fits
</pre></div>
</div>
</li>
<li><p class="first">Verify standard checksums and FITS compliance without changing the files:</p>
<div class="highlight-python"><div class="highlight"><pre>$ fitscheck --compliance *.fits
</pre></div>
</div>
</li>
<li><p class="first">Verify original nonstandard checksums only:</p>
<div class="highlight-python"><div class="highlight"><pre>$ fitscheck --checksum nonstandard *.fits
</pre></div>
</div>
</li>
<li><p class="first">Only check and fix compliance problems,  ignoring checksums:</p>
<div class="highlight-python"><div class="highlight"><pre>$ fitscheck --checksum none --compliance --write *.fits
</pre></div>
</div>
</li>
<li><p class="first">Verify standard interoperable checksums:</p>
<div class="highlight-python"><div class="highlight"><pre>$ fitscheck *.fits
</pre></div>
</div>
</li>
<li><p class="first">Delete checksum keywords:</p>
<div class="highlight-python"><div class="highlight"><pre>$ fitscheck --checksum none --write *.fits
</pre></div>
</div>
</li>
</ol>
<div class="highlight-text"><div class="highlight"><pre>Usage: fitscheck [options] &lt;.fits files...&gt;

        .e.g. fitscheck example.fits

        Verifies and optionally re-writes the CHECKSUM and DATASUM keywords
        for a .fits file.
        Optionally detects and fixes FITS standard compliance problems.

Options:
  -h, --help            show this help message and exit
  -k [standard | nonstandard | either | none], --checksum=[standard | nonstandard | either | none]
                        Choose FITS checksum mode or none.  Defaults standard.
  -w, --write           Write out file checksums and/or FITS compliance fixes.
  -f, --force           Do file update even if original checksum was bad.
  -c, --compliance      Do FITS compliance checking; fix if possible.
  -i, --ignore-missing  Ignore missing checksums.
  -v, --verbose         Generate extra output.
</pre></div>
</div>
</div>
<div class="section" id="fitsdiff">
<h2>fitsdiff<a class="headerlink" href="#fitsdiff" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">fitsdiff</span></tt> provides a thin command-line wrapper around the <a class="reference internal" href="../api_docs/api_diff.html#pyfits.FITSDiff" title="pyfits.FITSDiff"><tt class="xref py py-class docutils literal"><span class="pre">FITSDiff</span></tt></a>
interface&#8211;it outputs the report from a <a class="reference internal" href="../api_docs/api_diff.html#pyfits.FITSDiff" title="pyfits.FITSDiff"><tt class="xref py py-class docutils literal"><span class="pre">FITSDiff</span></tt></a> of two FITS files,
and like common diff-like commands returns a 0 status code if no differences
were found, and 1 if differences were found:</p>
<div class="highlight-text"><div class="highlight"><pre>Usage
=====
  Compare two FITS image files and report the differences in header keywords and
data.

    fitsdiff [options] filename1 filename2

where filename1 filename2 are the two files to be compared.  They may also be
wild cards, in such cases, they must be enclosed by double or single quotes, or
they may be directory names.  If both are directory names, all files in each of
the directories will be included; if only one is directory name, then the
directory name will be prefixed to the file name(s) specified by the other
argument.  for example::

    fitsdiff &quot;*.fits&quot; &quot;/machine/data1&quot;

will compare all FITS files in the current directory to the corresponding files
in the directory /machine/data1.

Options
=======
--help, -h              show this help message and exit
--quiet, -q             Produce no output and just return a status code.
--num-diffs=INTEGER, -n INTEGER
                        Max number of data differences (image pixel or table
                        element) to report per extension (default 10).
--difference-tolerance=NUMBER, -d NUMBER
                        The relative tolerance for comparison of two numbers,
                        specifically two floating point numbers.  This applies
                        to data in both images and tables, and to floating
                        point keyword values in headers (default 0.0).
--no-ignore-blanks, -b  Don&#39;t ignore trailing blanks (whitespace) in string
                        values.  Otherwise trailing blanks both in header
                        keywords/values and in table column values) are not
                        treated as significant i.e. without this option &#39;ABC
                        &#39; and &#39;ABC&#39; are considered equivalent.
--no-ignore-blank-cards
                        Don&#39;t ignore entirey blank cards in headers.  Normally
                        fitsdiff does not consider blank cards when comparing
                        headers, but this will ensure that even blank cards
                        match up.
--output-file=FILE, -o FILE
                        Output results to this file; otherwise results are
                        printed to stdout.

Header Comparison Options
-------------------------
--ignore-keywords=KEYWORDS, -k KEYWORDS
                        Comma-separated list of keywords not to be compared.
                        Keywords may contain wildcard patterns.  To exclude
                        all keywords, use &quot;*&quot;; make sure to have double or
                        single quotes around the asterisk.
--ignore-comments=KEYWORDS, -c KEYWORDS
                        Comma-separated list of keywords whose comments will
                        not be compared.  Wildcards may be used as with
                        --ignore-keywords.

Table Comparison Options
------------------------
--ignore-fields=COLUMNS, -f COLUMNS
                        Comma-separated list of fields (i.e. columns) not to
                        be compared.  All columns may be excluded using &quot;*&quot; as
                        with --ignore-keywords.

If the two files are identical within the specified conditions, it will report
&quot;No difference is found.&quot; If the value(s) of -c and -k takes the form
&#39;@filename&#39;, list is in the text file &#39;filename&#39;, and each line in that text
file contains one keyword.

Example
-------

    fitsdiff -k filename,filtnam1 -n 5 -d 1.e-6 test1.fits test2

This command will compare files test1.fits and test2.fits, report maximum of 5
different pixels values per extension, only report data values larger than
1.e-6 relative to each other, and will neglect the different values of
keywords FILENAME and FILTNAM1 (or their very existence).

fitsdiff commandline arguments can also be set using the environment variable
FITSDIFF_SETTINGS.  If the FITSDIFF_SETTINGS environment variable is present,
each argument present will override the corresponding argument on the
commandline.  This environment variable exists to make it easier to change the
behavior of fitsdiff on a global level, such as in a set of regression tests.
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="users_misc.html" title="Miscellaneous Features"
             >next</a> |</li>
        <li class="right" >
          <a href="users_schema.html" title="FITS Header Schemas"
             >previous</a> |</li>
        <li><a href="../index.html">PyFITS 3.3.dev documentation</a> &raquo;</li>
          <li><a href="users_guide.html" >PyFITS Users Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, J. C. Hsu, Paul Barrett, Christopher Hanley, James Taylor, Michael Droettboom, Erik M. Bray.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>